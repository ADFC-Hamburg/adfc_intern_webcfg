{% extends '_base.html' %}

{% load static %}
{% load crispy_forms_tags %}
{% load django_tables2 %}

{% block anlegen_active %}active{% endblock %}


{% block content %}
    <div class="row">
        <div class="col d-lg-none text-center my-auto pt-0 mt-0">
            <h3>{{ TITLE_KURZ }}</h3>
        </div>
        <div class="col d-none d-lg-block text-center my-auto pt-0 mt-0">
            <h2>{{ TITLE_LANG }}</h2>
        </div>
    </div>

    <div class="row">
        <div class="col">
            <form id="Openslides_create" action="" method="post" class="main flex-column d-flex">
                {% csrf_token %}
                <div class="container-fluid d-flex flex-column overflow-auto">
                                        <div class="row">
                                            <div class="col col-md">
                                                {{ form.name_text | as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-md">
                                                {{ form.meet_room | as_crispy_field }}
                                            </div>
                                             <div class="col col-md">
                                                {{ form.meet_password | as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="w-100"></div>

                                        <div class="row">
                                            <div class="col col-md">
                                                {{ form.reset_password_verbose | as_crispy_field }}
                                            </div>
                                            <div class="col col-md">
                                                {{ form.enable_electronic_voting | as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-md-4">
                                            {{ form.email_server | as_crispy_field }}
                                            </div>
                                            <div class="col col-sm-3">
                                                {{ form.email_server_port | as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-lg">
                                                {{ form.email_username | as_crispy_field }}
                                            </div>
                                            <div class="col col-md">
                                                {{ form.email_password | as_crispy_field }}
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col col-lg">
                                                {{ form.email_default_from| as_crispy_field }}
                                            </div>
                                            <div class="col col-lg">
                                                {{ form.admin_email| as_crispy_field }}
                                            </div>
                                            <div class="col col-md">
                                                {{ form.install_status| as_crispy_field }}
                                            </div>
                                        </div>

                </div>

                <!-- Aktions Buttons -->
                <div class="row  mx-0 mt-2">
                    <div class="col bg-light py-2 px-4 m-1">
                        <ul class="navbar-nav navbar-expand align-items-center justify-content-end">
                            <li class="nav-item pl-3">
                                <a href="../delete/{{ object.id }}" class="btn btn-danger">Löschen</a>
                            </li>
                            <li class="nav-item pl-3">
                                <button type="submit" class="btn btn-primary">Speichern</button>
                            </li>
                            <li class="nav-item pl-3 mr-3">
                                <button type="button" class="btn btn-secondary" data-toggle="modal"
                                        data-target="#cancelPopup">
                                    Abbrechen
                                </button>
                            </li>
                        </ul>
                    </div>
                </div>

            </form>

        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="cancelPopup" tabindex="-1" role="dialog" aria-labelledby="cancelPopupLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cancelPopupLabel">Wirklich abbrechen?</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    Eingaben werden verloren gehen. Möchten Sie die Eingabe beenden?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary"
                            data-dismiss="modal">Fortsetzen
                    </button>
                    <a class="btn btn-primary " href="{% url 'main' %}">
                        Beenden
                    </a>

                </div>
            </div>
        </div>
    </div>

{% endblock content %}
